{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/components/DonutChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function ProposalReportChart({ proposals }: { proposals: any[] }) {\r\n    // Count proposals by status\r\n    const counts = {\r\n        approved: proposals.filter(p => p.status === \"Approved\").length,\r\n        inProgress: proposals.filter(p => p.status === \"Ongoing\").length,\r\n        submitted: proposals.filter(p => p.status === \"Submitted\").length,\r\n        rejected: proposals.filter(p => p.status === \"Rejected\").length,\r\n    };\r\n\r\n    const data = {\r\n        labels: ['Approved', 'In Progress', 'Submitted', 'Rejected'],\r\n        datasets: [\r\n            {\r\n                data: [\r\n                    counts.approved,\r\n                    counts.inProgress,\r\n                    counts.submitted,\r\n                    counts.rejected,\r\n                ],\r\n                backgroundColor: ['#15803d', '#eab308', '#1d4ed8', '#b91c1c'],\r\n                borderWidth: 0,\r\n            },\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        cutout: '65%',\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n            legend: { display: false },\r\n            tooltip: { enabled: true },\r\n        },\r\n    };\r\n\r\n    const total = data.datasets[0].data.reduce((a, b) => a + b, 0);\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 flex flex-col items-center h-full\">\r\n            <h3 className=\"text-red-700 font-bold text-xl mb-6 text-center\">\r\n                Proposal Report\r\n            </h3>\r\n\r\n            <div className=\"flex flex-col 2xl:flex-row items-center justify-center gap-6 2xl:gap-10 w-full\">\r\n                {/* Chart container */}\r\n                <div className=\"relative w-36 h-36 sm:w-44 sm:h-44 2xl:w-56 2xl:h-56 flex-shrink-0\">\r\n                    <Doughnut data={data} options={options} />\r\n                    <div className=\"absolute inset-0 flex items-center justify-center text-2xl sm:text-3xl 2xl:text-4xl font-bold text-gray-900\">\r\n                        {total}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Custom legend */}\r\n                <div className=\"flex flex-col space-y-3 w-full 2xl:w-auto items-center 2xl:items-start\">\r\n                    {data.labels.map((label, index) => (\r\n                        <div key={label} className=\"flex items-center space-x-3\">\r\n                            <div\r\n                                className=\"w-4 h-4 rounded-full\"\r\n                                style={{\r\n                                    backgroundColor:\r\n                                        data.datasets[0].backgroundColor[index],\r\n                                }}\r\n                            ></div>\r\n                            <span className=\"text-sm font-medium text-gray-700\">\r\n                                {label} ({data.datasets[0].data[index]})\r\n                            </span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,+JAAA,CAAA,QAAO,CAAC,QAAQ,CAAC,+JAAA,CAAA,aAAU,EAAE,+JAAA,CAAA,UAAO,EAAE,+JAAA,CAAA,SAAM;AAE7B,SAAS,oBAAoB,KAAmC;QAAnC,EAAE,SAAS,EAAwB,GAAnC;IACxC,4BAA4B;IAC5B,MAAM,SAAS;QACX,UAAU,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,YAAY,MAAM;QAC/D,YAAY,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,MAAM;QAChE,WAAW,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,MAAM;QACjE,UAAU,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,YAAY,MAAM;IACnE;IAEA,MAAM,OAAO;QACT,QAAQ;YAAC;YAAY;YAAe;YAAa;SAAW;QAC5D,UAAU;YACN;gBACI,MAAM;oBACF,OAAO,QAAQ;oBACf,OAAO,UAAU;oBACjB,OAAO,SAAS;oBAChB,OAAO,QAAQ;iBAClB;gBACD,iBAAiB;oBAAC;oBAAW;oBAAW;oBAAW;iBAAU;gBAC7D,aAAa;YACjB;SACH;IACL;IAEA,MAAM,UAAU;QACZ,QAAQ;QACR,YAAY;QACZ,qBAAqB;QACrB,SAAS;YACL,QAAQ;gBAAE,SAAS;YAAM;YACzB,SAAS;gBAAE,SAAS;YAAK;QAC7B;IACJ;IAEA,MAAM,QAAQ,KAAK,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG;IAE5D,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAIhE,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,yJAAA,CAAA,WAAQ;gCAAC,MAAM;gCAAM,SAAS;;;;;;0CAC/B,6LAAC;gCAAI,WAAU;0CACV;;;;;;;;;;;;kCAKT,6LAAC;wBAAI,WAAU;kCACV,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,sBACrB,6LAAC;gCAAgB,WAAU;;kDACvB,6LAAC;wCACG,WAAU;wCACV,OAAO;4CACH,iBACI,KAAK,QAAQ,CAAC,EAAE,CAAC,eAAe,CAAC,MAAM;wCAC/C;;;;;;kDAEJ,6LAAC;wCAAK,WAAU;;4CACX;4CAAM;4CAAG,KAAK,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM;4CAAC;;;;;;;;+BATrC;;;;;;;;;;;;;;;;;;;;;;AAoBlC;KA3EwB","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/components/DashboardSidebar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function DashboardSidebar() {\r\n  const pathname = usePathname();\r\n  const [role, setRole] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const storedRole = sessionStorage.getItem(\"role\");\r\n    setRole(storedRole);\r\n  }, []);\r\n\r\n  // Menus\r\n  const collabMenu = [\r\n    { href: \"/dashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/collabapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/collabinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/collabrejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n  ];\r\n\r\n  const employeeMenu = [\r\n    { href: \"/bpidashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/bpiapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/bpiinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/bpirejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n    { href: \"/bpifilesviewer\", icon: \"/images/Folder_del.png\", label: \"FileViewer\" },\r\n    { href: \"/companylist\", icon: \"/images/building-03.png\", label: \"Collaborators\" },\r\n    { href: \"/bpifindcollab\", icon: \"/images/peer-to-peer-02.png\", label: \"Find Collaborators\" },\r\n  ];\r\n\r\n  const adminMenu = [\r\n    { href: \"/admindashboard\", icon: \"/images/Sidebar_home.png\", label: \"Home\" },\r\n    { href: \"/bpiapproved\", icon: \"/images/Folder_check.png\", label: \"Approved\" },\r\n    { href: \"/bpiinprocess\", icon: \"/images/folder-send.png\", label: \"In Process\" },\r\n    { href: \"/bpirejected\", icon: \"/images/Folder_del.png\", label: \"Rejected\" },\r\n    { href: \"/adminfilesviewer\", icon: \"/images/Folder_del.png\", label: \"FileViewer\" },\r\n    { href: \"/companylist\", icon: \"/images/building-03.png\", label: \"Collaborators\" },\r\n    { href: \"/bpifindcollab\", icon: \"/images/peer-to-peer-02.png\", label: \"Find Collaborators\" },\r\n  ];\r\n\r\n  const menuItems =\r\n    role === \"user\" ? collabMenu : role === \"employee\" ? employeeMenu : role === \"admin\" ? adminMenu : [];\r\n\r\n  return (\r\n    <motion.aside\r\n      initial={{ x: -250, opacity: 0 }}\r\n      animate={{ x: 0, opacity: 1 }}\r\n      exit={{ x: -250, opacity: 0 }}\r\n      transition={{\r\n        duration: 0.2,\r\n        ease: [0.25, 0.1, 0.25, 1], // smooth cubic-bezier\r\n      }}\r\n      className=\"pl-4 group relative bg-white border-r flex flex-col items-center items-start py-4 space-y-6 h-screen w-20 hover:w-56 transition-all duration-300 overflow-hidden\"\r\n    >\r\n      {/* Logo */}\r\n      <div className=\"flex items-center gap-3 pl-1\">\r\n        <img src=\"/logo/synsei_icon.png\" alt=\"Logo\" className=\"w-10\" />\r\n        <span className=\"text-lg font-bold text-gray-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\r\n          Synsei\r\n        </span>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex flex-col space-y-2 w-[92%]\">\r\n        {menuItems.map((item, index) => (\r\n          <a\r\n            key={index}\r\n            href={item.href}\r\n            className={`flex items-center gap-3 rounded-lg transition-all duration-200\r\n              ${pathname === item.href ? \"bg-[#FEC2C5]\" : \"hover:bg-gray-100\"}\r\n              px-2 py-2 w-12 group-hover:w-full`}\r\n          >\r\n            <img src={item.icon} alt={item.label} className=\"w-8 h-8\" />\r\n            <span className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap\">\r\n              {item.label}\r\n            </span>\r\n          </a>\r\n        ))}\r\n      </nav>\r\n    </motion.aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,MAAM,aAAa,eAAe,OAAO,CAAC;YAC1C,QAAQ;QACV;qCAAG,EAAE;IAEL,QAAQ;IACR,MAAM,aAAa;QACjB;YAAE,MAAM;YAAc,MAAM;YAA4B,OAAO;QAAO;QACtE;YAAE,MAAM;YAAmB,MAAM;YAA4B,OAAO;QAAW;QAC/E;YAAE,MAAM;YAAoB,MAAM;YAA2B,OAAO;QAAa;QACjF;YAAE,MAAM;YAAmB,MAAM;YAA0B,OAAO;QAAW;KAC9E;IAED,MAAM,eAAe;QACnB;YAAE,MAAM;YAAiB,MAAM;YAA4B,OAAO;QAAO;QACzE;YAAE,MAAM;YAAgB,MAAM;YAA4B,OAAO;QAAW;QAC5E;YAAE,MAAM;YAAiB,MAAM;YAA2B,OAAO;QAAa;QAC9E;YAAE,MAAM;YAAgB,MAAM;YAA0B,OAAO;QAAW;QAC1E;YAAE,MAAM;YAAmB,MAAM;YAA0B,OAAO;QAAa;QAC/E;YAAE,MAAM;YAAgB,MAAM;YAA2B,OAAO;QAAgB;QAChF;YAAE,MAAM;YAAkB,MAAM;YAA+B,OAAO;QAAqB;KAC5F;IAED,MAAM,YAAY;QAChB;YAAE,MAAM;YAAmB,MAAM;YAA4B,OAAO;QAAO;QAC3E;YAAE,MAAM;YAAgB,MAAM;YAA4B,OAAO;QAAW;QAC5E;YAAE,MAAM;YAAiB,MAAM;YAA2B,OAAO;QAAa;QAC9E;YAAE,MAAM;YAAgB,MAAM;YAA0B,OAAO;QAAW;QAC1E;YAAE,MAAM;YAAqB,MAAM;YAA0B,OAAO;QAAa;QACjF;YAAE,MAAM;YAAgB,MAAM;YAA2B,OAAO;QAAgB;QAChF;YAAE,MAAM;YAAkB,MAAM;YAA+B,OAAO;QAAqB;KAC5F;IAED,MAAM,YACJ,SAAS,SAAS,aAAa,SAAS,aAAa,eAAe,SAAS,UAAU,YAAY,EAAE;IAEvG,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,KAAK;QACX,SAAS;YAAE,GAAG,CAAC;YAAK,SAAS;QAAE;QAC/B,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;QAC5B,MAAM;YAAE,GAAG,CAAC;YAAK,SAAS;QAAE;QAC5B,YAAY;YACV,UAAU;YACV,MAAM;gBAAC;gBAAM;gBAAK;gBAAM;aAAE;QAC5B;QACA,WAAU;;0BAGV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,KAAI;wBAAwB,KAAI;wBAAO,WAAU;;;;;;kCACtD,6LAAC;wBAAK,WAAU;kCAAoG;;;;;;;;;;;;0BAMtH,6LAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,MAAM,sBACpB,6LAAC;wBAEC,MAAM,KAAK,IAAI;wBACf,WAAW,AAAC,iFACsD,OAA9D,aAAa,KAAK,IAAI,GAAG,iBAAiB,qBAAoB;;0CAGlE,6LAAC;gCAAI,KAAK,KAAK,IAAI;gCAAE,KAAK,KAAK,KAAK;gCAAE,WAAU;;;;;;0CAChD,6LAAC;gCAAK,WAAU;0CACb,KAAK,KAAK;;;;;;;uBARR;;;;;;;;;;;;;;;;AAejB;GA9EwB;;QACL,qIAAA,CAAA,cAAW;;;KADN","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/app/bpidashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport ProposalReportChart from '@/components/DonutChart';\r\nimport Sidebar from \"@/components/DashboardSidebar\";\r\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\r\nimport CollabCompanyProtectedRoute from \"@/components/CollabCompanyProtectedRoute\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nexport default function BpiDashboard() {\r\n    const router = useRouter();\r\n    const API = process.env.NEXT_PUBLIC_API_URL;\r\n\r\n    const [proposals, setProposals] = useState<any[]>([]);\r\n    const [companies, setCompanies] = useState<{ [key: number]: any }>({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [updating, setUpdating] = useState<number | null>(null);\r\n    const [openRow, setOpenRow] = useState<number | null>(null);\r\n    const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0 });\r\n\r\n    // Map backend status to display status\r\n    const mapStatus = (status: string) => {\r\n        switch (status) {\r\n            case \"SUBMITTED\": return \"Submitted\";\r\n            case \"ONGOING\": return \"In Progress\";\r\n            case \"APPROVED\": return \"Approved\";\r\n            case \"REJECTED\": return \"Rejected\";\r\n            default: return status;\r\n        }\r\n    };\r\n\r\n    // Map display status back to backend status\r\n    const mapStatusToBackend = (status: string) => {\r\n        switch (status) {\r\n            case \"Submitted\": return \"SUBMITTED\";\r\n            case \"In Progress\": return \"ONGOING\";\r\n            case \"Approved\": return \"APPROVED\";\r\n            case \"Rejected\": return \"REJECTED\";\r\n            default: return status;\r\n        }\r\n    };\r\n\r\n    // Fetch company by ID\r\n    const fetchCompanyById = async (companyId: number) => {\r\n        const token = sessionStorage.getItem(\"access_token\");\r\n        try {\r\n            const res = await fetch(`${API}/api/company/${companyId}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            });\r\n\r\n            if (!res.ok) {\r\n                console.warn(`Failed to fetch company ${companyId}`);\r\n                return null;\r\n            }\r\n\r\n            const data = await res.json();\r\n            return data.company;\r\n        } catch (err) {\r\n            console.error(`Error fetching company ${companyId}:`, err);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchAllProposals = async () => {\r\n            const token = sessionStorage.getItem(\"access_token\");\r\n            try {\r\n                console.log(\"Fetching proposals from:\", `${API}/api/proposal`);\r\n                const res = await fetch(`${API}/api/proposal`, {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                });\r\n\r\n                if (!res.ok) throw new Error(\"Failed to fetch proposals\");\r\n                const data = await res.json();\r\n                console.log(\"Full API Response:\", data);\r\n\r\n                // Extract proposals from the response structure\r\n                const proposalsList = data.proposals || data || [];\r\n                console.log(\"Extracted proposals list:\", proposalsList);\r\n\r\n                setProposals(Array.isArray(proposalsList) ? proposalsList : []);\r\n\r\n                // Extract unique company IDs and fetch company data\r\n                const companyIds = [...new Set(proposalsList\r\n                    .map((p: any) => p.company_id)\r\n                    .filter((id: any) => id !== null && id !== undefined)\r\n                )] as number[];\r\n\r\n                console.log(\"Unique company IDs:\", companyIds);\r\n\r\n                // Fetch all companies in parallel\r\n                const companyPromises = companyIds.map(async (id: number) => {\r\n                    const company = await fetchCompanyById(id);\r\n                    return { id, company };\r\n                });\r\n\r\n                const companyResults = await Promise.all(companyPromises);\r\n\r\n                // Create companies lookup object\r\n                const companiesLookup: { [key: number]: any } = {};\r\n                companyResults.forEach(({ id, company }) => {\r\n                    if (company) {\r\n                        companiesLookup[id] = company;\r\n                    }\r\n                });\r\n\r\n                console.log(\"Companies lookup:\", companiesLookup);\r\n                setCompanies(companiesLookup);\r\n\r\n            } catch (err) {\r\n                console.error(\"Error fetching proposals:\", err);\r\n                setProposals([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchAllProposals();\r\n    }, [API]);\r\n\r\n    // Close dropdown when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = () => {\r\n            setOpenRow(null);\r\n        };\r\n\r\n        if (openRow !== null) {\r\n            document.addEventListener('click', handleClickOutside);\r\n            return () => document.removeEventListener('click', handleClickOutside);\r\n        }\r\n    }, [openRow]);\r\n\r\n    // Get company name for a proposal\r\n    const getCompanyName = (proposal: any) => {\r\n        if (proposal.company_id && companies[proposal.company_id]) {\r\n            return companies[proposal.company_id].name;\r\n        }\r\n        return proposal.company_name || 'Unknown Company';\r\n    };\r\n\r\n    // Compute summary counts based on mapped status\r\n    const summary = [\r\n        {\r\n            label: \"Submitted\",\r\n            count: proposals.filter(p => mapStatus(p.status) === \"Submitted\").length,\r\n            img: \"/images/db_submitted.png\"\r\n        },\r\n        {\r\n            label: \"In Progress\",\r\n            count: proposals.filter(p => mapStatus(p.status) === \"In Progress\").length,\r\n            img: \"/images/db_inprogress.png\"\r\n        },\r\n        {\r\n            label: \"Approved\",\r\n            count: proposals.filter(p => mapStatus(p.status) === \"Approved\").length,\r\n            img: \"/images/db_approved.png\"\r\n        },\r\n        {\r\n            label: \"Rejected\",\r\n            count: proposals.filter(p => mapStatus(p.status) === \"Rejected\").length,\r\n            img: \"/images/db_rejected.png\"\r\n        },\r\n    ];\r\n\r\n    // Handle proposal row click → navigate to BPI proposal tracking\r\n    const handleProposalClick = (proposalId: number) => {\r\n        console.log('=== NAVIGATION DEBUG ===');\r\n        console.log('Proposal ID:', proposalId);\r\n\r\n        const token = sessionStorage.getItem(\"access_token\");\r\n        const userRole = sessionStorage.getItem(\"role\");\r\n\r\n        if (!token) {\r\n            alert('Session expired. Please log in again.');\r\n            router.push('/login');\r\n            return;\r\n        }\r\n\r\n        if (!userRole) {\r\n            alert('Role information missing. Please log in again.');\r\n            router.push('/login');\r\n            return;\r\n        }\r\n\r\n        if (userRole !== 'employee') {\r\n            alert('Access denied. Employee role required.');\r\n            return;\r\n        }\r\n\r\n        // ✅ Correct path for BPI proposal tracking\r\n        const targetUrl = `/bpiproposaltracking?id=${proposalId}`;\r\n        console.log('Navigating to:', targetUrl);\r\n        router.push(targetUrl);\r\n    };\r\n\r\n    // Activities = latest 3 proposals sorted by created_at\r\n    const activities = proposals\r\n        .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\r\n        .slice(0, 3);\r\n\r\n    const handleStatusUpdate = async (proposalId: number, newStatus: string) => {\r\n        const token = sessionStorage.getItem(\"access_token\");\r\n        setUpdating(proposalId);\r\n\r\n        try {\r\n            const res = await fetch(`${API}/api/proposal/${proposalId}/status`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    status: mapStatusToBackend(newStatus)\r\n                }),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                const errorData = await res.json();\r\n                throw new Error(errorData.error || \"Failed to update proposal status\");\r\n            }\r\n\r\n            const data = await res.json();\r\n\r\n            // Update the local state\r\n            setProposals(prevProposals =>\r\n                prevProposals.map(p =>\r\n                    p.id === proposalId ? { ...p, status: data.proposal.status } : p\r\n                )\r\n            );\r\n\r\n            alert(`Proposal status updated to: ${newStatus}`);\r\n            setOpenRow(null);\r\n\r\n        } catch (err) {\r\n            console.error(\"Error updating proposal status:\", err);\r\n            alert(`Error updating proposal status: ${err instanceof Error ? err.message : 'Unknown error'}`);\r\n        } finally {\r\n            setUpdating(null);\r\n        }\r\n    };\r\n\r\n    const getStatusOptions = (currentStatus: string) => {\r\n        const mappedStatus = mapStatus(currentStatus);\r\n        const allStatuses = [\"Submitted\", \"In Progress\", \"Approved\", \"Rejected\"];\r\n        return allStatuses.filter(status => status !== mappedStatus);\r\n    };\r\n\r\n    const handleActionClick = (e: React.MouseEvent, rowIndex: number) => {\r\n        e.stopPropagation();\r\n\r\n        if (openRow === rowIndex) {\r\n            setOpenRow(null);\r\n            return;\r\n        }\r\n\r\n        // Calculate dropdown position\r\n        const button = e.currentTarget as HTMLElement;\r\n        const rect = button.getBoundingClientRect();\r\n        const scrollY = window.scrollY;\r\n        const scrollX = window.scrollX;\r\n\r\n        // Position dropdown to the left of the button (since it's the last column)\r\n        setDropdownPosition({\r\n            top: rect.bottom + scrollY + 5, // 5px gap below button\r\n            left: rect.right + scrollX - 160 // Align right edge of dropdown with right edge of button\r\n        });\r\n\r\n        setOpenRow(rowIndex);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen bg-gray-50\">\r\n            {/* Sidebar */}\r\n            <Sidebar />\r\n\r\n            {/* Main content */}\r\n            <main className=\"flex-1 py-3 sm:py-6 pl-[2%] sm:pl-[3%] pr-[3%] sm:pr-[5%]\">\r\n                {/* Header row */}\r\n                <div className=\"flex items-center justify-between border-b-[3px] border-red-700 pb-2 sm:pb-4\">\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-red-700\">Employee Dashboard</h1>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                            Review and manage collaboration proposals from all companies.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-3\">\r\n                        <button\r\n                            onClick={() => window.location.reload()}\r\n                            className=\"bg-[#B11016] border-2 text-white px-4 py-2 rounded-md hover:bg-white hover:border-[#B11016] hover:text-[#B11016] transition\"\r\n                        >\r\n                            Refresh\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-[69%_30%] gap-4 mt-5\">\r\n                    {/* Summary cards */}\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 m-0 p-0\">\r\n                        {summary.map((item, i) => (\r\n                            <div\r\n                                key={i}\r\n                                className=\"bg-white rounded-lg flex items-center gap-4 drop-shadow-lg border border-gray-500\"\r\n                            >\r\n                                <img\r\n                                    src={item.img}\r\n                                    alt={item.label}\r\n                                    className=\"m-0 p-0 h-full w-auto object-cover\"\r\n                                />\r\n                                <div className=\"flex-1 flex items-center justify-center\">\r\n                                    <h2 className=\"text-4xl font-bold\">{item.count}</h2>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Activities */}\r\n                    <div className=\"bg-white rounded-lg drop-shadow-lg sm:p-8 p-6 border border-gray-500 h-[350px] flex flex-col\">\r\n                        <h3 className=\"text-red-700 font-bold text-xl mb-4 border-b border-black pb-2 sm:pb-4\">\r\n                            Recent Activities\r\n                        </h3>\r\n\r\n                        {/* Scrollable container */}\r\n                        <div\r\n                            className=\"relative flex-1 overflow-y-auto pr-2\"\r\n                            style={{ \"--dot-size\": \"0.75rem\" } as React.CSSProperties}\r\n                        >\r\n                            {activities.length === 0 ? (\r\n                                <p className=\"text-gray-500 text-center mt-6\">No recent activities</p>\r\n                            ) : (\r\n                                <div className=\"space-y-0\">\r\n                                    {activities.map((a, i, arr) => (\r\n                                        <div key={i} className=\"relative flex items-start\">\r\n                                            {/* Dot */}\r\n                                            <div\r\n                                                className=\"relative z-10 rounded-full flex-shrink-0 bg-[#B11016]\"\r\n                                                style={{\r\n                                                    width: \"var(--dot-size)\",\r\n                                                    height: \"var(--dot-size)\",\r\n                                                    marginTop: \"0.5rem\",\r\n                                                }}\r\n                                            ></div>\r\n\r\n                                            {/* Vertical line */}\r\n                                            {i < arr.length - 1 && (\r\n                                                <div\r\n                                                    className=\"absolute left-[calc(var(--dot-size)/2-1px)] top-[calc(var(--dot-size)+0.5rem)] w-0.5 bg-gray-300\"\r\n                                                    style={{ height: \"calc(100% - var(--dot-size) - 0rem)\" }}\r\n                                                ></div>\r\n                                            )}\r\n\r\n                                            {/* Content */}\r\n                                            <div className=\"ml-4 pb-2\">\r\n                                                <div className=\"font-semibold text-gray-900\">{a.title}</div>\r\n                                                <div className=\"text-sm text-blue-600 mb-1\">\r\n                                                    {getCompanyName(a)}\r\n                                                </div>\r\n                                                <div className=\"font-bold text-gray-800 mb-1\">\r\n                                                    {mapStatus(a.status)}\r\n                                                </div>\r\n                                                <div className=\"text-gray-500 text-xs\">\r\n                                                    {new Date(a.created_at).toLocaleDateString(\"en-US\", {\r\n                                                        year: \"numeric\",\r\n                                                        month: \"long\",\r\n                                                        day: \"numeric\",\r\n                                                    })}{\" \"}\r\n                                                    |{\" \"}\r\n                                                    {new Date(a.created_at).toLocaleTimeString(\"en-US\", {\r\n                                                        hour: \"numeric\",\r\n                                                        minute: \"2-digit\",\r\n                                                        hour12: true,\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Bottom grid */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-[69%_30%] gap-4 mt-5 items-stretch\">\r\n                    <div className=\"sm:col-span-1 border border-gray-500 rounded-lg p-5 bg-white drop-shadow-xl relative\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h3 className=\"text-red-700 font-bold text-lg\">Your Proposals</h3>\r\n                            <span className=\"text-sm text-gray-600\">Click on any row to view details</span>\r\n                        </div>\r\n                        <div className=\"max-h-200 overflow-y-auto relative\">\r\n                            <table className=\"w-full text-sm rounded-lg overflow-hidden\">\r\n                                <thead className=\"sticky top-0 bg-white z-10\">\r\n                                    <tr>\r\n                                        <th className=\"p-3 text-left text-red-700\">ID</th>\r\n                                        <th className=\"p-3 text-left text-red-700\">Company</th>\r\n                                        <th className=\"p-3 text-left text-red-700\">Proposal Title</th>\r\n                                        <th className=\"p-3 text-left text-red-700\">Status</th>\r\n                                        <th className=\"p-3 text-center text-red-700\">Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {!loading && proposals.length === 0 && (\r\n                                        <tr>\r\n                                            <td colSpan={5} className=\"p-3 text-center text-gray-500\">\r\n                                                No proposals found\r\n                                            </td>\r\n                                        </tr>\r\n                                    )}\r\n\r\n                                    {!loading &&\r\n                                        proposals.map((p, i) => (\r\n                                            <tr\r\n                                                key={p.id}\r\n                                                className=\"border-t hover:bg-gray-50 transition-colors cursor-pointer\"\r\n                                                onClick={() => handleProposalClick(p.id)}\r\n                                            >\r\n                                                <td className=\"p-3\">\r\n                                                    {p.id}\r\n                                                </td>\r\n                                                <td className=\"p-3\">\r\n                                                    <div className=\"font-medium\">\r\n                                                        {getCompanyName(p)}\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td className=\"p-3\">\r\n                                                    <div className=\"font-medium\">{p.title || 'No title'}</div>\r\n                                                    {p.description && (\r\n                                                        <div className=\"text-xs text-gray-500 truncate max-w-xs\">\r\n                                                            {p.description.length > 50\r\n                                                                ? `${p.description.substring(0, 50)}...`\r\n                                                                : p.description\r\n                                                            }\r\n                                                        </div>\r\n                                                    )}\r\n                                                </td>\r\n                                                <td className=\"p-3\">\r\n                                                    <span\r\n                                                        className={`px-2 py-1 rounded-full text-xs font-medium ${mapStatus(p.status) === \"Approved\"\r\n                                                                ? \"bg-green-100 text-green-800\"\r\n                                                                : mapStatus(p.status) === \"Rejected\"\r\n                                                                    ? \"bg-red-100 text-red-800\"\r\n                                                                    : mapStatus(p.status) === \"In Progress\"\r\n                                                                        ? \"bg-yellow-100 text-yellow-800\"\r\n                                                                        : \"bg-gray-100 text-gray-800\"\r\n                                                            }`}\r\n                                                    >\r\n                                                        {mapStatus(p.status)}\r\n                                                    </span>\r\n                                                </td>\r\n\r\n                                                {/* Action Button */}\r\n                                                <td className=\"p-3 text-center\">\r\n                                                    <button\r\n                                                        onClick={(e) => handleActionClick(e, i)}\r\n                                                        className=\"text-xl font-bold text-gray-600 hover:text-red-600 disabled:opacity-50\"\r\n                                                        disabled={updating === p.id}\r\n                                                    >\r\n                                                        {updating === p.id ? \"...\" : \"⋮\"}\r\n                                                    </button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        {loading && <p className=\"text-center p-3\">Loading proposals...</p>}\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-1 h-full border border-gray-500 rounded-lg drop-shadow-lg\">\r\n                        <ProposalReportChart proposals={proposals} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Dropdown Portal - renders outside of table to avoid clipping */}\r\n                {openRow !== null && createPortal(\r\n                    <div\r\n                        className=\"absolute w-40 bg-white border rounded-lg shadow-lg z-50\"\r\n                        style={{\r\n                            top: `${dropdownPosition.top}px`,\r\n                            left: `${dropdownPosition.left}px`\r\n                        }}\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        {getStatusOptions(proposals[openRow]?.status || '').map((status) => (\r\n                            <button\r\n                                key={status}\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handleStatusUpdate(proposals[openRow].id, status);\r\n                                }}\r\n                                className=\"w-full px-4 py-2 text-left text-sm hover:bg-red-100 text-red-700 border-b border-gray-100 last:border-b-0 first:rounded-t-lg last:rounded-b-lg\"\r\n                                disabled={updating === proposals[openRow]?.id}\r\n                            >\r\n                                Set to {status}\r\n                            </button>\r\n                        ))}\r\n                    </div>,\r\n                    document.body\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}