{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/synseai/project/frontend/src/app/adminassigndocument/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { FaArrowLeft } from \"react-icons/fa\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useMemo, useState, useRef } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { Suspense } from \"react\";\r\n\r\ntype Doc = {\r\n  id: number;\r\n  name: string;\r\n  type: string;\r\n  description: string | null;\r\n  is_bpi: boolean;\r\n  proposal_id: number | null;\r\n  created_at?: string;\r\n  view_url?: string;\r\n  download_url?: string;\r\n};\r\n\r\ntype Department = {\r\n  id: number;\r\n  name: string;\r\n  description?: string | null;\r\n};\r\n\r\ntype Preset = {\r\n  id: number;\r\n  name: string;\r\n  // expecting backend .to_dict() includes this as an array of ids in order\r\n  department_queues: number[];\r\n};\r\n\r\nexport default function AdminAssignDocument() {\r\n  return (\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <AdminAssignDocumentContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nfunction AdminAssignDocumentContent() {\r\n  const router = useRouter();\r\n  const API = process.env.NEXT_PUBLIC_API_URL;\r\n\r\n  // UI state\r\n  const [activeTab, setActiveTab] = useState<\"view\" | \"upload\">(\"view\");\r\n  const [showFilesModal, setShowFilesModal] = useState(false);\r\n  const [showDeptPicker, setShowDeptPicker] = useState(false);\r\n  const [savingPreset, setSavingPreset] = useState(false);\r\n\r\n  // Data state\r\n  const [allDocs, setAllDocs] = useState<Doc[]>([]);\r\n  const [selectedDoc, setSelectedDoc] = useState<Doc | null>(null);\r\n\r\n  const [departments, setDepartments] = useState<Department[]>([]);\r\n  const [queue, setQueue] = useState<Department[]>([]);\r\n\r\n  const [presets, setPresets] = useState<Preset[]>([]);\r\n  const [selectedPresetId, setSelectedPresetId] = useState<number | \"\">(\"\");\r\n\r\n  const [loadingDocs, setLoadingDocs] = useState(false);\r\n  const [loadingDepts, setLoadingDepts] = useState(false);\r\n  const [loadingPresets, setLoadingPresets] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [fileName, setFileName] = useState(\"\");\r\n  const [fileDescription, setFileDescription] = useState(\"\");\r\n  const searchParams = useSearchParams();\r\n  const proposalId = searchParams?.get(\"proposalId\");\r\n  const [showPresetModal, setShowPresetModal] = useState(false);\r\n  const [presetName, setPresetName] = useState(\"\");\r\n\r\n  const handleFileSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!uploadedFile) {\r\n      alert(\"Please select a file to upload.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = sessionStorage.getItem(\"access_token\");\r\n      const role = sessionStorage.getItem(\"role\");\r\n\r\n      console.log(\"Token:\", token ? \"Present\" : \"Missing\");\r\n      console.log(\"Role:\", role);\r\n      console.log(\"API URL:\", API);\r\n      console.log(\"File:\", uploadedFile);\r\n\r\n      if (!token) {\r\n        alert(\"You are not authenticated.\");\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"file\", uploadedFile);\r\n      formData.append(\"name\", fileName || uploadedFile.name);\r\n      formData.append(\"description\", fileDescription || \"\");\r\n      formData.append(\"type\", \"Proposal\");\r\n      formData.append(\"proposal_id\", \"\"); // Send empty string for proposal_id\r\n      formData.append(\"is_bpi\", role === \"employee\" ? \"true\" : \"false\");\r\n\r\n      // Log FormData contents\r\n      console.log(\"FormData contents:\");\r\n      for (let [key, value] of formData.entries()) {\r\n        console.log(key, value);\r\n      }\r\n\r\n      console.log(\"Making request to:\", `${API}/api/document/upload_file`);\r\n\r\n      const response = await fetch(`${API}/api/document/upload_file`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: formData,\r\n      });\r\n\r\n      console.log(\"Response status:\", response.status);\r\n      console.log(\"Response ok:\", response.ok);\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        console.log(\"Error response:\", error);\r\n        alert(`Upload failed: ${error.error || JSON.stringify(error)}`);\r\n        return;\r\n      }\r\n\r\n      const uploadedDoc = await response.json();\r\n      console.log(\"Upload successful:\", uploadedDoc);\r\n\r\n      // Create the document object from the response\r\n      const newDoc: Doc = {\r\n        id: uploadedDoc.file.id,\r\n        name: uploadedDoc.file.name,\r\n        type: uploadedDoc.file.type,\r\n        description: uploadedDoc.file.description,\r\n        is_bpi: uploadedDoc.file.is_bpi,\r\n        proposal_id: uploadedDoc.file.proposal_id,\r\n        created_at: uploadedDoc.file.created_at,\r\n        view_url: `/api/document/view_file/${uploadedDoc.file.id}`,\r\n        download_url: `/api/document/download_file/${uploadedDoc.file.id}`\r\n      };\r\n\r\n      // Automatically select the uploaded document\r\n      setSelectedDoc(newDoc);\r\n\r\n      // Refresh the documents list after successful upload\r\n      await fetchAllDocs();\r\n\r\n      // Clear form\r\n      setUploadedFile(null);\r\n      setFileName(\"\");\r\n      setFileDescription(\"\");\r\n      setShowUploadModal(false);\r\n\r\n      alert(\"File uploaded successfully!\");\r\n\r\n    } catch (err) {\r\n      console.error(\"Detailed error:\", err);\r\n      alert(`Upload failed: ${err instanceof Error ? err.message : \"Unknown error\"}`);\r\n    }\r\n  };\r\n\r\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      setUploadedFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      setUploadedFile(e.dataTransfer.files[0]);\r\n    }\r\n  };\r\n\r\n  const token = useMemo(() => (typeof window !== \"undefined\" ? sessionStorage.getItem(\"access_token\") : null), []);\r\n\r\n  // Fetch departments & presets early\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    const fetchDepartments = async () => {\r\n      setLoadingDepts(true);\r\n      try {\r\n        const res = await fetch(`${API}/api/department`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n        const data = await res.json();\r\n        if (!res.ok) throw new Error(data?.error || \"Failed to fetch departments\");\r\n        setDepartments(data.departments || []);\r\n      } catch (e: any) {\r\n        setError(e.message || \"Error fetching departments\");\r\n      } finally {\r\n        setLoadingDepts(false);\r\n      }\r\n    };\r\n\r\n    const fetchPresets = async () => {\r\n      setLoadingPresets(true);\r\n      try {\r\n        const res = await fetch(`${API}/api/department_preset`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n        const data = await res.json();\r\n        if (!res.ok) throw new Error(data?.error || \"Failed to fetch presets\");\r\n        setPresets(data.department_presets || []);\r\n      } catch (e: any) {\r\n        setError(e.message || \"Error fetching presets\");\r\n      } finally {\r\n        setLoadingPresets(false);\r\n      }\r\n    };\r\n\r\n    fetchDepartments();\r\n    fetchPresets();\r\n  }, [API, token]);\r\n\r\n  // Open files modal when View Files tab is chosen\r\n  useEffect(() => {\r\n    if (activeTab === \"view\") {\r\n      setShowFilesModal(true);\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const fetchAllDocs = async () => {\r\n    if (!token) return;\r\n    setLoadingDocs(true);\r\n    try {\r\n      const res = await fetch(`${API}/api/document/get_unassigned`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data?.error || data?.message || \"Failed to fetch documents\");\r\n\r\n      if (!Array.isArray(data)) {\r\n        setAllDocs([]);\r\n        return;\r\n      }\r\n\r\n      // For each unassigned doc, fetch its full details\r\n      const detailedDocs: Doc[] = await Promise.all(\r\n        data.map(async (doc: { id: number; name: string; file: string }) => {\r\n          try {\r\n            const detailRes = await fetch(`${API}/api/document/${doc.id}`, {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            });\r\n            const detailData = await detailRes.json();\r\n            if (!detailRes.ok) throw new Error(detailData?.error || \"Failed to fetch doc details\");\r\n\r\n            return detailData as Doc;\r\n          } catch (err) {\r\n            console.error(\"Error fetching details for doc\", doc.id, err);\r\n            // fallback to minimal data\r\n            return {\r\n              id: doc.id,\r\n              name: doc.name,\r\n              type: \"Team\",\r\n              description: null,\r\n              created_at: \"\",\r\n              is_bpi: true,\r\n              proposal_id: null,\r\n            };\r\n          }\r\n        })\r\n      );\r\n\r\n      setAllDocs(detailedDocs);\r\n    } catch (e: any) {\r\n      setError(e.message || \"Error fetching documents\");\r\n    } finally {\r\n      setLoadingDocs(false);\r\n    }\r\n  };\r\n\r\n  // When files modal is shown, fetch docs\r\n  useEffect(() => {\r\n    if (showFilesModal) fetchAllDocs();\r\n  }, [showFilesModal]);\r\n\r\n  const deptById = (id: number) => departments.find((d) => d.id === id);\r\n\r\n  // Handle preset selection (populate queue)\r\n  const handleSelectPreset = (idStr: string) => {\r\n    if (!idStr) {\r\n      setSelectedPresetId(\"\");\r\n      return;\r\n    }\r\n    const id = Number(idStr);\r\n    setSelectedPresetId(id);\r\n    const p = presets.find((x) => x.id === id);\r\n    if (p && Array.isArray(p.department_queues)) {\r\n      // Map ids to department objects; ignore ids we don't know\r\n      const mapped = p.department_queues\r\n        .map((deptId) => deptById(deptId))\r\n        .filter(Boolean) as Department[];\r\n      setQueue(mapped);\r\n    }\r\n  };\r\n\r\n  // Add department into queue\r\n  const addDepartmentToQueue = (dept: Department) => {\r\n    setQueue((prev) => [...prev, dept]);\r\n    setShowDeptPicker(false);\r\n  };\r\n\r\n  // Remove / reorder handlers\r\n  const removeFromQueue = (index: number) => {\r\n    setQueue((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n  const moveUp = (index: number) => {\r\n    if (index === 0) return;\r\n    setQueue((prev) => {\r\n      const copy = [...prev];\r\n      [copy[index - 1], copy[index]] = [copy[index], copy[index - 1]];\r\n      return copy;\r\n    });\r\n  };\r\n  const moveDown = (index: number) => {\r\n    setQueue((prev) => {\r\n      if (index >= prev.length - 1) return prev;\r\n      const copy = [...prev];\r\n      [copy[index + 1], copy[index]] = [copy[index], copy[index + 1]];\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  // Save as preset\r\n  const handleSavePreset = () => {\r\n    if (queue.length === 0) {\r\n      alert(\"Add at least one department to save a preset.\");\r\n      return;\r\n    }\r\n    setShowPresetModal(true); // ✅ Open modal\r\n  };\r\n\r\n  const confirmSavePreset = async () => {\r\n    if (!presetName.trim()) return;\r\n\r\n    setSavingPreset(true);\r\n    try {\r\n      const res = await fetch(`${API}/api/department_preset`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: presetName.trim(),\r\n          department_queues: queue.map((d) => d.id),\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data?.error || \"Failed to save preset\");\r\n\r\n      setPresets((prev) => [...prev, data.department_preset]);\r\n      setSelectedPresetId(data.department_preset?.id ?? \"\");\r\n      setShowPresetModal(false); // ✅ Close modal\r\n      setPresetName(\"\"); // ✅ Reset input\r\n    } catch (e: any) {\r\n      alert(e.message || \"Error saving preset\");\r\n    } finally {\r\n      setSavingPreset(false);\r\n    }\r\n  };\r\n\r\n  // Fixed handleAssignDocument function\r\n  const handleAssignDocument = async () => {\r\n    if (!selectedDoc) {\r\n      alert(\"Please select a document first.\");\r\n      return;\r\n    }\r\n    if (queue.length === 0) {\r\n      alert(\"Please add at least one department to set the route.\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      document_id: selectedDoc.id,\r\n      iteration: queue.map((d) => d.id), // must be a list of integers\r\n    };\r\n\r\n    console.log(\"=== ASSIGN DOCUMENT DEBUG ===\");\r\n    console.log(\"Payload:\", payload);\r\n    console.log(\"API URL:\", `${API}/api/document_setting/upload_document_setting`);\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${API}/api/document_setting/upload_document_setting`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n\r\n      console.log(\"Response status:\", res.status);\r\n      console.log(\"Response ok:\", res.ok);\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json();\r\n        console.log(\"Error response:\", errorData);\r\n        throw new Error(errorData.error || \"Failed to assign document\");\r\n      }\r\n\r\n      const data = await res.json();\r\n      console.log(\"Success response:\", data);\r\n      console.log(\"Full response structure:\", JSON.stringify(data, null, 2));\r\n      console.log(\"Response data type:\", typeof data);\r\n      console.log(\"Is data an array?\", Array.isArray(data));\r\n      console.log(\"Data keys:\", Object.keys(data || {}));\r\n\r\n      // Based on your backend code, it returns new_setting.to_dict() directly\r\n      // So the ID should be directly in data.id\r\n      const documentSettingId =\r\n        data.id ||                      // Direct ID from to_dict() - this should work\r\n        data.document_setting_id ||     // Just in case\r\n        data.document_setting?.id ||    // Nested object fallback\r\n        data.setting_id ||              // Alternative naming\r\n        data.documentSettingId;         // CamelCase variant\r\n\r\n      console.log(\"Extracted document_setting_id:\", documentSettingId);\r\n\r\n      if (documentSettingId) {\r\n        console.log(\"✅ Successfully extracted ID, navigating...\");\r\n\r\n        // Clear any previous state\r\n        setSelectedDoc(null);\r\n        setQueue([]);\r\n        setSelectedPresetId(\"\");\r\n\r\n        // Navigate to filespusher with the document_setting ID\r\n        const navigationUrl = `/filespusher?id=${documentSettingId}`;\r\n        console.log(\"Navigating to:\", navigationUrl);\r\n\r\n        // Show success message first\r\n        alert(\"✅ Document successfully assigned! Redirecting to Files Pusher...\");\r\n\r\n        // Small delay to ensure alert is seen, then navigate\r\n        setTimeout(() => {\r\n          router.push(navigationUrl);\r\n        }, 100);\r\n\r\n      } else {\r\n        console.error(\"❌ No document_setting ID found in response\");\r\n        console.log(\"Available response keys:\", Object.keys(data || {}));\r\n        console.log(\"Response data structure:\", data);\r\n        console.log(\"Typeof data:\", typeof data);\r\n        console.log(\"Is array:\", Array.isArray(data));\r\n\r\n        // Try to extract ANY id-like field for debugging\r\n        const possibleIds = Object.keys(data || {}).filter(key =>\r\n          key.toLowerCase().includes('id')\r\n        );\r\n        console.log(\"Fields containing 'id':\", possibleIds);\r\n\r\n        // Still show success but explain the navigation issue\r\n        alert(`✅ Document successfully assigned! However, unable to navigate to Files Pusher automatically. \r\n      \r\nDebug info: \r\n- Response keys: ${Object.keys(data || {}).join(', ')}\r\n- ID fields found: ${possibleIds.join(', ')}\r\n- Please check the browser console for full response details.`);\r\n\r\n        // Optionally, you could still try to navigate to a general page\r\n        // router.push(\"/bpidashboard\");\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"❌ Error assigning document:\", error);\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center px-4 sm:px-[5%] lg:px-[10%] py-4 sm:py-8\">\r\n      {/* Header */}\r\n      <div className=\"relative flex items-center w-full mt-2 mb-4\">\r\n        <button\r\n          onClick={() => router.push(\"/admindashboard\")}\r\n          className=\"absolute left-0 flex items-center text-[#B11016] hover:text-[#800b10] text-sm sm:text-base\"\r\n        >\r\n          <FaArrowLeft className=\"mr-2\" />\r\n          <span className=\"hidden sm:inline\">Back</span>\r\n        </button>\r\n        <div className=\"text-center w-full\">\r\n          <h1 className=\"text-xl sm:text-2xl lg:text-4xl font-bold text-[#B11016] pb-2 sm:pb-4\">\r\n            Assign Document\r\n          </h1>\r\n          <p className=\"text-sm sm:text-md text-black mb-4 sm:mb-6 px-4\">\r\n            Push the files to the departments.\r\n          </p>\r\n          <div className=\"mx-2 border-b-[3px] border-[#B11016]\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top nav tabs + Preset selector */}\r\n      <div className=\"w-full flex items-center justify-between gap-4\">\r\n        <div className=\"flex gap-6\">\r\n          <button\r\n            className={`p-2 px-6 text-sm sm:text-base rounded-md transition-all duration-300 ease-in-out transform ${activeTab === \"view\"\r\n                ? \"bg-[#B11016] text-white font-semibold shadow-lg hover:bg-[#8B0C11] hover:shadow-xl hover:scale-105\"\r\n                : \"border-2 border-[#B11016] text-[#B11016] bg-transparent hover:bg-[#B11016] hover:text-white hover:shadow-lg hover:scale-105 hover:border-[#8B0C11]\"\r\n              }`}\r\n            onClick={() => {\r\n              setActiveTab(\"view\");\r\n              setShowFilesModal(true);\r\n            }}\r\n          >\r\n            VIEW FILES\r\n          </button>\r\n          <button\r\n            className={`p-2 px-6 text-sm sm:text-base rounded-md transition-all duration-300 ease-in-out transform ${activeTab === \"upload\"\r\n                ? \"bg-[#B11016] text-white font-semibold shadow-lg hover:bg-[#8B0C11] hover:shadow-xl hover:scale-105\"\r\n                : \"border-2 border-[#B11016] text-[#B11016] bg-transparent hover:bg-[#B11016] hover:text-white hover:shadow-lg hover:scale-105 hover:border-[#8B0C11]\"\r\n              }`}\r\n            onClick={() => {\r\n              setActiveTab(\"upload\");\r\n              setShowUploadModal(true); \r\n            }}\r\n          >\r\n            UPLOAD\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm text-gray-700 mr-1\">CHOOSE A PRESET</label>\r\n          <select\r\n            className=\"border rounded-md px-3 py-2 text-sm outline-none\"\r\n            value={selectedPresetId}\r\n            onChange={(e) => handleSelectPreset(e.target.value)}\r\n            disabled={loadingPresets}\r\n          >\r\n            <option value=\"\">Select…</option>\r\n            {presets.map((p) => (\r\n              <option key={p.id} value={p.id}>\r\n                {p.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Body */}\r\n      <div className=\"w-full grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\">\r\n        {/* LEFT: File card + details */}\r\n        <div className=\"md:col-span-1 bg-white rounded-2xl shadow-md p-6\">\r\n          {selectedDoc ? (\r\n            <>\r\n              {/* File Card Header */}\r\n              <div className=\"flex items-center gap-4\">\r\n                <img\r\n                  src=\"/images/file-card.png\"\r\n                  alt=\"File Icon\"\r\n                  className=\"w-34 h-36 object-contain\"\r\n                />\r\n                <div>\r\n                  <h3 className=\"font-semibold text-xl text-black\">{selectedDoc.name}</h3>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Type: {selectedDoc.type || \"—\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* File Details */}\r\n              <div className=\"mt-5 text-md space-y-2\">\r\n                <p className=\"text-black font-medium border-b pb-2\">File Details</p>\r\n                <p className=\"text-gray-600\">\r\n                  <span className=\"font-semibold text-black\">Description:</span>{\" \"}\r\n                  {selectedDoc.description || \"No description.\"}\r\n                </p>\r\n                <p className=\"text-gray-600\">\r\n                  <span className=\"font-semibold text-black\">Date Created:</span>{\" \"}\r\n                  {selectedDoc.created_at\r\n                    ? new Date(selectedDoc.created_at).toLocaleDateString(\"en-US\", {\r\n                      year: \"numeric\",\r\n                      month: \"long\",\r\n                      day: \"numeric\",\r\n                    })\r\n                    : \"—\"}\r\n                </p>\r\n\r\n\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <img\r\n                src=\"/images/file-card.png\"\r\n                alt=\"No File\"\r\n                className=\"w-14 h-16 mx-auto object-contain\"\r\n              />\r\n              <p className=\"mt-3 text-gray-600 text-sm\">\r\n                No file selected. Click <span className=\"font-medium\">“VIEW FILES”</span>.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n\r\n        {/* RIGHT: Departments assigned frame */}\r\n        <div className=\"md:col-span-2 bg-white rounded-xl shadow p-5\">\r\n          <p className=\"font-semibold text-gray-800\">DEPARTMENTS ASSIGNED</p>\r\n          <div className=\"mt-3 border-t\" />\r\n\r\n          {/* Queue items */}\r\n          <div className=\"mt-4 space-y-3\">\r\n            {queue.map((dept, idx) => (\r\n              <div\r\n                key={`${dept.id}-${idx}`}\r\n                className=\"flex items-center justify-between bg-gray-200 rounded-md px-4 py-3\"\r\n              >\r\n                <span className=\"font-semibold text-sm tracking-wide\">\r\n                  {idx + 1}. {dept.name}\r\n                </span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    onClick={() => moveUp(idx)}\r\n                    className=\"text-xs border rounded px-2 py-1 hover:bg-gray-100\"\r\n                    title=\"Move up\"\r\n                  >\r\n                    ↑\r\n                  </button>\r\n                  <button\r\n                    onClick={() => moveDown(idx)}\r\n                    className=\"text-xs border rounded px-2 py-1 hover:bg-gray-100\"\r\n                    title=\"Move down\"\r\n                  >\r\n                    ↓\r\n                  </button>\r\n                  <button\r\n                    onClick={() => removeFromQueue(idx)}\r\n                    className=\"text-xs border rounded px-2 py-1 hover:bg-gray-100\"\r\n                    title=\"Remove\"\r\n                  >\r\n                    ✕\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {/* Add button */}\r\n            <button\r\n              onClick={() => setShowDeptPicker((s) => !s)}\r\n              className=\"w-full border rounded-md py-3 text-sm hover:bg-gray-50\"\r\n              disabled={loadingDepts}\r\n            >\r\n              +\r\n            </button>\r\n\r\n            {/* Department picker dropdown list */}\r\n            {showDeptPicker && (\r\n              <div className=\"border rounded-lg shadow bg-white max-h-64 overflow-auto\">\r\n                {loadingDepts ? (\r\n                  <p className=\"p-3 text-sm text-gray-600\">Loading departments…</p>\r\n                ) : departments.length === 0 ? (\r\n                  <p className=\"p-3 text-sm text-gray-600\">No departments found.</p>\r\n                ) : (\r\n                  departments.map((d) => (\r\n                    <button\r\n                      key={d.id}\r\n                      className=\"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm\"\r\n                      onClick={() => addDepartmentToQueue(d)}\r\n                    >\r\n                      {d.name}\r\n                    </button>\r\n                  ))\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"mt-8 flex flex-col sm:flex-row gap-3\">\r\n            <button\r\n              onClick={handleSavePreset}\r\n              className=\"w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white rounded-md px-5 py-3\"\r\n              disabled={savingPreset}\r\n            >\r\n              {savingPreset ? \"Saving…\" : \"SAVE AS PRESET\"}\r\n            </button>\r\n            <button\r\n              onClick={handleAssignDocument}\r\n              className=\"w-full sm:w-auto bg-[#B11016] hover:bg-[#8f0e12] text-white rounded-md px-5 py-3\"\r\n            >\r\n              ASSIGN DOCUMENT\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Upload modal */}\r\n      {showUploadModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n          <div\r\n            className=\"absolute inset-0 bg-black/30\"\r\n            onClick={() => setShowUploadModal(false)}\r\n          />\r\n          <div className=\"relative bg-white rounded-xl shadow-xl w-[95%] max-w-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-[#B11016]\">Upload File</h3>\r\n              <button\r\n                className=\"text-gray-600 hover:text-black\"\r\n                onClick={() => setShowUploadModal(false)}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleFileSubmit} className=\"space-y-4\">\r\n\r\n              <div className=\"w-full text-red-700 text-base font-normal mb-1\">\r\n                FILE NAME\r\n              </div>\r\n              {/* FILE NAME INPUT */}\r\n              <div className=\"w-full relative group mb-5\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={fileName}\r\n                  onChange={(e) => setFileName(e.target.value)}\r\n                  placeholder=\"Enter file name\"\r\n                  className=\"px-2 appearance-none w-full py-3 placeholder-gray-400 bg-transparent focus:outline-none text-sm sm:text-base\"\r\n                  aria-label=\"File Name\"\r\n                />\r\n                <div className=\"absolute left-0 bottom-0 w-full h-[2px] bg-gray-300\" />\r\n                <div className=\"absolute left-0 bottom-0 h-[2px] bg-red-700 \r\n                    transition-transform duration-300 ease-in-out \r\n                    origin-center scale-x-0 w-full \r\n                    group-focus-within:scale-x-100\" />\r\n              </div>\r\n\r\n              {/* File Description */}\r\n              <div className=\"w-full text-red-700 text-base font-normal mb-1\">\r\n                FILE DESCRIPTION\r\n              </div>\r\n              {/* FILE DESCRIPTION INPUT */}\r\n              <div className=\"w-full relative group mb-5\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={fileDescription}\r\n                  onChange={(e) => setFileDescription(e.target.value)}\r\n                  placeholder=\"Enter file description\"\r\n                  className=\"px-2 appearance-none w-full py-3 placeholder-gray-400 bg-transparent focus:outline-none text-sm sm:text-base\"\r\n                  aria-label=\"File Description\"\r\n                />\r\n                <div className=\"absolute left-0 bottom-0 w-full h-[2px] bg-gray-300\" />\r\n                <div className=\"absolute left-0 bottom-0 h-[2px] bg-red-700 \r\n                    transition-transform duration-300 ease-in-out \r\n                    origin-center scale-x-0 w-full \r\n                    group-focus-within:scale-x-100\" />\r\n              </div>\r\n\r\n\r\n\r\n              {/* Drag and Drop Area */}\r\n              <div\r\n                onDrop={handleDrop}\r\n                onDragOver={(e) => e.preventDefault()}\r\n                className=\"border-2 border-dashed border-red-300 rounded-lg p-6 text-center cursor-pointer hover:border-red-500 transition\"\r\n                onClick={() => fileInputRef.current?.click()}\r\n              >\r\n                <img\r\n                  src=\"/images/uploadicon.png\"\r\n                  alt=\"Upload Icon\"\r\n                  className=\"mx-auto h-12 w-12 object-contain\"\r\n                />\r\n\r\n                <p className=\"mt-2 text-gray-600 text-md\">\r\n                  Drag & drop files or{\" \"}\r\n                  <span className=\"text-red-600 underline\">Browse</span>\r\n                </p>\r\n                <p className=\"text-xs text-gray-400\">\r\n                  Supported formats: JPEG, PNG, PDF, DOCX\r\n                </p>\r\n\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\".jpeg,.jpg,.png,.pdf,.docx\"\r\n                  ref={fileInputRef}\r\n                  className=\"hidden\"\r\n                  onChange={handleFileChange}\r\n                />\r\n              </div>\r\n\r\n              {/* Uploaded File Preview */}\r\n              {uploadedFile && (\r\n                <div className=\"mt-3 p-2 border border-green-400 rounded bg-green-50 text-green-700 text-xs\">\r\n                  Uploaded: {uploadedFile.name}\r\n                </div>\r\n              )}\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"w-full flex justify-end space-x-2\">\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"w-full px-4 py-2 rounded-lg bg-[#B11016] text-white font-semibold hover:bg-[#800b10]\"\r\n                >\r\n                  Upload\r\n                </button>\r\n              </div>\r\n\r\n\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-right\">\r\n              <button\r\n                onClick={() => setShowUploadModal(false)}\r\n                className=\"px-4 py-2 border rounded-md text-sm hover:bg-gray-50\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n      {/* Files modal */}\r\n      {showFilesModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n          <div\r\n            className=\"absolute inset-0 bg-black/30\"\r\n            onClick={() => setShowFilesModal(false)}\r\n          />\r\n          <div className=\"relative bg-white rounded-xl shadow-xl w-[95%] max-w-3xl p-5\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-[#B11016]\">Select a File</h3>\r\n              <button\r\n                className=\"text-gray-600 hover:text-black\"\r\n                onClick={() => setShowFilesModal(false)}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mt-4 border rounded-lg overflow-hidden\">\r\n              {loadingDocs ? (\r\n                <p className=\"p-4 text-sm text-gray-600\">Loading files…</p>\r\n              ) : allDocs.length === 0 ? (\r\n                <p className=\"p-4 text-sm text-gray-600\">No files found.</p>\r\n              ) : (\r\n                <ul className=\"max-h-80 overflow-auto divide-y\">\r\n                  {allDocs.map((doc) => (\r\n                    <li key={doc.id} className=\"hover:bg-gray-50\">\r\n                      <button\r\n                        className=\"w-full text-left px-4 py-3\"\r\n                        onClick={() => {\r\n                          setSelectedDoc(doc);\r\n                          setShowFilesModal(false);\r\n                        }}\r\n                      >\r\n                        <p className=\"font-medium\">{doc.name}</p>\r\n                        <p className=\"text-xs text-gray-500\">\r\n                          {doc.type || \"—\"} {doc.description ? \"• \" + doc.description : \"\"}\r\n                        </p>\r\n                      </button>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"mt-4 text-right\">\r\n              <button\r\n                onClick={() => setShowFilesModal(false)}\r\n                className=\"px-4 py-2 border rounded-md text-sm hover:bg-gray-50\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error toast-ish */}\r\n      {error && (\r\n        <div className=\"fixed bottom-5 right-5 bg-red-600 text-white px-4 py-2 rounded shadow\">\r\n          <div className=\"flex items-center justify-between gap-3\">\r\n            <span className=\"text-sm\">{error}</span>\r\n            <button className=\"text-white/80\" onClick={() => setError(null)}>\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showPresetModal && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n          {/* Blurred backdrop */}\r\n          <div\r\n            className=\"absolute inset-0 bg-black/30 backdrop-blur-sm\"\r\n            onClick={() => setShowPresetModal(false)}\r\n          />\r\n\r\n          {/* Modal content */}\r\n          <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 transform transition-all duration-300 ease-out scale-100 opacity-100\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center\">\r\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">Save Preset</h2>\r\n                  <p className=\"text-sm text-gray-500\">Create a reusable configuration</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowPresetModal(false)}\r\n                className=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors duration-200\"\r\n                disabled={savingPreset}\r\n              >\r\n                <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Body */}\r\n            <div className=\"p-6\">\r\n              <div className=\"space-y-2\">\r\n                <label htmlFor=\"preset-name\" className=\"block text-sm font-medium text-gray-700\">\r\n                  Preset Name\r\n                </label>\r\n                <input\r\n                  id=\"preset-name\"\r\n                  type=\"text\"\r\n                  value={presetName}\r\n                  onChange={(e) => setPresetName(e.target.value)}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter' && !savingPreset && presetName.trim()) {\r\n                      confirmSavePreset();\r\n                    }\r\n                    if (e.key === 'Escape') {\r\n                      setShowPresetModal(false);\r\n                    }\r\n                  }}\r\n                  placeholder=\"e.g., My Custom Configuration\"\r\n                  className=\"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 placeholder-gray-400\"\r\n                  disabled={savingPreset}\r\n                  autoFocus\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Choose a descriptive name for easy identification later\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl\">\r\n              <button\r\n                onClick={() => setShowPresetModal(false)}\r\n                className=\"px-6 py-2.5 rounded-xl text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                disabled={savingPreset}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmSavePreset}\r\n                disabled={savingPreset || !presetName.trim()}\r\n                className=\"px-6 py-2.5 rounded-xl text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none\"\r\n              >\r\n                {savingPreset ? (\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                    <span>Saving...</span>\r\n                  </div>\r\n                ) : (\r\n                  \"Save Preset\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}